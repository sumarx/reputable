<% locations = Current.account.locations.order(:name) %>
<% if locations.count > 1 %>
  <div class="flex items-center gap-1 bg-white rounded-xl border border-gray-100 shadow-sm p-1 w-fit">
    <%= link_to "All Locations", url_for(request.query_parameters.merge(location_id: nil)),
        data: { turbo_frame: turbo_frame_id },
        class: "px-3 py-1.5 text-xs font-medium rounded-lg transition-all",
        style: @current_location.nil? ? "background-color: #111827; color: white; box-shadow: 0 1px 2px rgba(0,0,0,0.05);" : "color: #6B7280;" %>
    <% locations.each do |loc| %>
      <%= link_to loc.name, url_for(request.query_parameters.merge(location_id: loc.id)),
          data: { turbo_frame: turbo_frame_id },
          class: "px-3 py-1.5 text-xs font-medium rounded-lg transition-all whitespace-nowrap",
          style: @current_location&.id == loc.id ? "background-color: #111827; color: white; box-shadow: 0 1px 2px rgba(0,0,0,0.05);" : "color: #6B7280;" %>
    <% end %>
  </div>
<% end %>
